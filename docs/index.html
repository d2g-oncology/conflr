<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R Client for 'Confluence' API • conflr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R Client for 'Confluence' API">
<meta property="og:description" content="Post R Markdown documents as 'Confluence' pages via its API.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">conflr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="conflr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#conflr" class="anchor"></a>conflr</h1></div>

<p>conflr is an R package to post <a href="https://rmarkdown.rstudio.com/">R Markdown</a> documents to <a href="https://www.atlassian.com/software/confluence">Confluence</a>, a content collaboration tool by Atlassian.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install conflr from GitHub.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"line/conflr"</span>)</a></code></pre></div>
</div>
<div id="preparation" class="section level2">
<h2 class="hasAnchor">
<a href="#preparation" class="anchor"></a>Preparation</h2>
<p>Set <code>CONFLUENCE_URL</code> to the Confluence endpoint in <code>.Renviron</code> (you can open the file with <code><a href="https://www.rdocumentation.org/packages/usethis/topics/edit">usethis::edit_r_environ()</a></code>). If you are using Confluence on Atlassian Cloud, the URL is <code>https://&lt;your-domain&gt;.atlassian.net/wiki</code>.</p>
<pre><code>CONFLUENCE_URL=https://confluence.example.com</code></pre>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="move-focus-to-the--rmd-file-and-click-post-to-confluence-addin" class="section level3">
<h3 class="hasAnchor">
<a href="#move-focus-to-the--rmd-file-and-click-post-to-confluence-addin" class="anchor"></a>1. Move focus to the .Rmd file and click “Post to Confluence” Addin</h3>
<p>(<strong>Caution for those who are not familiar with R Markdown</strong>: R Markdown’s powerfulness allows you to execute arbitrary code; be sure about what the code does before clicking “Post to Confluence”!)</p>
<p><img src="reference/figures/screenshot1.png"></p>
<p><img src="reference/figures/screenshot2.png"></p>
<p>Then, you will be asked your username and password. If you are using Confluence on Atlassian Cloud, the username is an email address, and the password is an API token (see <a href="https://confluence.atlassian.com/cloud/api-tokens-938839638.html" class="uri">https://confluence.atlassian.com/cloud/api-tokens-938839638.html</a> for more details about API tokens).</p>
<p><img src="reference/figures/popup1.png"></p>
</div>
<div id="check-the-preview-and-click-publish" class="section level3">
<h3 class="hasAnchor">
<a href="#check-the-preview-and-click-publish" class="anchor"></a>2. Check the preview and click “Publish”</h3>
<ul>
<li>
<strong>type</strong>: The type of the page (<em>page</em> means a normal wiki page, whereas <em>blogpost</em> mean a blog post, not a page).</li>
<li>
<strong>Space Key</strong>: The key of the space you want to post.</li>
<li>
<strong>Parent page ID</strong>: (optional): The ID of the parent page to the page.</li>
</ul>
<p><img src="reference/figures/screenshot3.png"></p>
</div>
<div id="check-the-result" class="section level3">
<h3 class="hasAnchor">
<a href="#check-the-result" class="anchor"></a>3. Check the result</h3>
<p><img src="reference/figures/screenshot4.png"></p>
</div>
</div>
<div id="usage-in-console" class="section level2">
<h2 class="hasAnchor">
<a href="#usage-in-console" class="anchor"></a>Usage in console</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(conflr)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co"># list pages</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">res &lt;-<span class="st"> </span><span class="kw"><a href="reference/confl_content.html">confl_list_pages</a></span>(<span class="dt">spaceKey =</span> <span class="st">"foo"</span>)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">purrr<span class="op">::</span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_chr</a></span>(res<span class="op">$</span>results, <span class="st">"id"</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co"># get page info</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8">page &lt;-<span class="st"> </span><span class="kw"><a href="reference/confl_content.html">confl_get_page</a></span>(res<span class="op">$</span>results[[<span class="dv">2</span>]]<span class="op">$</span>id)</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">page<span class="op">$</span>title</a>
<a class="sourceLine" id="cb3-10" data-line-number="10"></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co"># create a page</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12">new_page &lt;-<span class="st"> </span><span class="kw"><a href="reference/confl_content.html">confl_post_page</a></span>(</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">  <span class="dt">spaceKey =</span> <span class="st">"foo"</span>,</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">  <span class="dt">title =</span> <span class="st">"Test"</span>,</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">  <span class="dt">body =</span> glue<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/glue/topics/glue">glue</a></span>(</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">    <span class="st">'&lt;ac:structured-macro ac:name="code"&gt;</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="st">     &lt;ac:plain-text-body&gt;&lt;![CDATA[this is my code]]&gt;&lt;/ac:plain-text-body&gt;</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="st">     &lt;/ac:structured-macro&gt;</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="st">    '</span>))</a>
<a class="sourceLine" id="cb3-20" data-line-number="20">new_page<span class="op">$</span><span class="st">`</span><span class="dt">_links</span><span class="st">`</span></a></code></pre></div>
</div>
<div id="how-to-contribute" class="section level2">
<h2 class="hasAnchor">
<a href="#how-to-contribute" class="anchor"></a>How to contribute</h2>
<p>See <a href="CONTRIBUTING.html">CONTRIBUTING.md</a></p>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<pre><code>Copyright (C) 2019 LINE Corporation

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, version 3.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</code></pre>
<p>See <a href="LICENSE.html">LICENSE.md</a> for more detail.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Hiroaki Yutani <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/line/conflr"><img src="https://travis-ci.org/line/conflr.svg?branch=master" alt="Travis build status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Hiroaki Yutani.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
